<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Queue (Array) — Interactive Visualizer</title>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#60a5fa; --accent-2:#38bdf8; --danger:#fb7185;
    --glass: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box;font-family:Inter, sans-serif}
  body{margin:0;min-height:100vh;background:#071026;color:#e6eef6;display:flex;justify-content:center;padding:28px}
  .container{width:980px;max-width:95%;background:var(--glass);border-radius:14px;padding:20px;border:1px solid rgba(255,255,255,0.04)}
  h1{margin:0 0 8px;font-size:20px}
  p.lead{margin:0 0 18px;color:var(--muted);font-size:13px}

  .controls{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:18px}
  .card{background:var(--card);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);min-width:260px}

  label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
  input[type="number"], input[type="text"]{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:inherit}

  .row{display:flex;gap:12px;flex-wrap:wrap}
  button{padding:10px 12px;border-radius:8px;border:0;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#04263b;font-weight:600;cursor:pointer}
  button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
  button.warn{background:linear-gradient(90deg,#fb7185,#f97316);color:white}

  .queue-area{display:flex;gap:18px;align-items:flex-start}
  .queue-visual{width:320px;background:var(--glass);padding:18px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
  .queue-list{display:flex;gap:10px;justify-content:flex-start;min-height:120px;padding:12px}
  .slot{width:60px;height:44px;border-radius:8px;border:1px dashed rgba(255,255,255,0.05);display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.01);color:var(--muted)}
  .slot.filled{background:rgba(255,255,255,0.05);color:white}

  .info{flex:1;min-width:260px}
  .message{padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);color:var(--muted);min-height:40px;margin-top:10px}
</style>
</head>
<body>
<div class="container">

<h1>QUEUE (Array) — Interactive Visualizer</h1>
<p class="lead">This demo shows FIFO behavior using a fixed-size array.</p>

<div class="controls">
  <div class="card">
    <label>Queue Capacity</label>
    <input id="capInput" type="number" min="1" value="6" />
    <button id="initBtn">Initialize Queue</button>
  </div>

  <div class="card" style="flex:1">
    <label>Value to enqueue</label>
    <input id="enInput" type="text" placeholder="Enter value" />
    <div style="height:10px"></div>
    <div class="row">
      <button id="enBtn">Enqueue</button>
      <button id="deBtn" class="ghost">Dequeue</button>
      <button id="frontBtn" class="ghost">Front</button>
      <button id="peekBtn" class="ghost">Peek</button>
      <button id="emptyBtn" class="warn">Empty Queue</button>
      <button id="isEmptyBtn" class="ghost">isEmpty</button>
      <button id="isFullBtn" class="ghost">isFull</button>
    </div>
  </div>

  <div class="card info">
    <strong>Message:</strong>
    <div id="msg" class="message">Ready.</div>
  </div>
</div>

<div class="queue-area">
  <div class="queue-visual card">
    <label class="small">Queue (front → rear)</label>
    <div id="queueList" class="queue-list"></div>
  </div>
</div>

</div>

<script>
class VisualQueue {
  constructor(cap){ this.init(cap); }

  init(cap){
    this.capacity = Math.max(1, cap);
    this.array = new Array(this.capacity).fill(null);
    this.front = 0;
    this.rear = -1;
    this.count = 0;
    this.render();
    this.setMsg(`Initialized queue with capacity ${this.capacity}`);
  }

  isEmpty(){ return this.count === 0; }
  isFull(){ return this.count === this.capacity; }

  enqueue(val){
    if(this.isFull()) return this.setMsg("Queue is FULL", true);
    this.rear = (this.rear + 1) % this.capacity;
    this.array[this.rear] = val;
    this.count++;
    this.render();
    this.setMsg(`Enqueued "${val}"`);
  }

  dequeue(){
    if(this.isEmpty()) return this.setMsg("Queue is EMPTY", true);
    const v = this.array[this.front];
    this.array[this.front] = null;
    this.front = (this.front + 1) % this.capacity;
    this.count--;
    this.render();
    this.setMsg(`Dequeued "${v}"`);
  }

  frontVal(){ if(this.isEmpty()) return this.setMsg("Queue EMPTY", true); this.setMsg(`Front = ${this.array[this.front]}`);}  
  peek(){ return this.frontVal(); }

  emptyQueue(){ this.init(this.capacity); }

  render(){
    const c = document.getElementById("queueList");
    c.innerHTML = "";
    for(let i=0;i<this.capacity;i++){
      const s=document.createElement("div");
      s.className="slot";
      if(this.array[i]!==null){ s.classList.add("filled"); s.textContent=this.array[i]; }
      else s.textContent="-";
      c.appendChild(s);
    }
  }

  setMsg(m, err=false){
    const el=document.getElementById("msg");
    el.textContent=m;
    el.style.color = err ? "var(--danger)" : "var(--muted)";
  }
}

// Setup
let Q = new VisualQueue(6);

enInput = document.getElementById("enInput");

document.getElementById("initBtn").onclick=()=>{
  Q = new VisualQueue(parseInt(capInput.value));
};
// UPDATED HANDLER
document.getElementById("enBtn").onclick = () => {
  if (enInput.value.trim() === "") return Q.setMsg("Enter value", true);
  Q.enqueue(enInput.value.trim());
  enInput.value = "";
};

// Allow pressing Enter to enqueue
enInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    if (enInput.value.trim() === "") return Q.setMsg("Enter value", true);
    Q.enqueue(enInput.value.trim());
    enInput.value = "";
  }
});
document.getElementById("deBtn").onclick=()=>Q.dequeue();
document.getElementById("frontBtn").onclick=()=>Q.frontVal();
document.getElementById("peekBtn").onclick=()=>Q.peek();
document.getElementById("emptyBtn").onclick=()=>Q.emptyQueue();
document.getElementById("isEmptyBtn").onclick=()=>Q.setMsg(Q.isEmpty()?"TRUE — empty":"FALSE — not empty");
document.getElementById("isFullBtn").onclick=()=>Q.setMsg(Q.isFull()?"TRUE — full":"FALSE — not full");
</script>

</body></html>
